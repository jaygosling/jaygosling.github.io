<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Prime factorization calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
</head>

<body>
    <h1 class="text-center mt-5 display-1">Prime factorization calculator</h1>
    <div class="d-flex justify-content-center mt-3 mx-4">
        <div class="container">
            <div class="mb-3">
                <label for="numberInput" class="form-label">Enter a number</label>
                <input type="number" class="form-control" id="numberInput" aria-describedby="numberInput">
                <div id="inputHelp" class="form-text">Enter the number you want to calculate the prime factors of.</div>
            </div>
            <div class="text-center mb-3">
                <button type="button" id="convertBtn" class="btn btn-outline-info">Calculate</button>
            </div>
            <div class="card" id="result">
                <div class="card-body">
                    <h5 class="card-title">Result</h5>
                    <h6 class="card-subtitle mb-2 text-body-secondary" id="subtitle"></h6>
                    <p class="card-text" id="resultText"></p>

                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script>
        function getFactors(number) {
            let factors = {};
            let index = 2;
            while (number > 1) {
                if (number % index == 0) {
                    number /= index;
                    if (index in factors) {
                        factors[index]++;
                    } else {
                        factors[index] = 1;
                    }
                } else {
                    index++;
                }
            }
            return factors;
        }
        $(document).ready(function() {
            $("#result").hide()
            $("#convertBtn").on("click", () => {
                let result = getFactors(parseInt($("#numberInput").val()));
                let text = ""
                for(let index in result) {
                    if (text != "") text+= " x ";
                    text += `${index}<sup>${result[index]}</sup>`
                }
                $("#resultText").html(parseInt($("#numberInput").val()) + " = " + text);
                $("#result").show()
            })
        })
    </script>
</body>
</html>
